# We have a conf and classes directory, append to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have a recipes directory, add to BBFILES
BBFILES += "${LAYERDIR}/recipes*/*/*.bb ${LAYERDIR}/recipes*/*/*.bbappend"

BBFILE_COLLECTIONS += "tano-openwrt-layer"
BBFILE_PATTERN_tano-openwrt-layer := "^${LAYERDIR}/"
BBFILE_PRIORITY_tano-openwrt-layer = "16"

LICENSE_PATH += "${LAYERDIR}/licenses"

LAYERDEPENDS_tano-openwrt-layer = "\
	core \
	openembedded-layer \
	networking-layer \
"

# Compatible with OE Release 2.4 (Rocko)
LAYERSERIES_COMPAT_tano-openwrt-layer = "rocko"

#
# Dynamic layers
#
BBFILES_DYNAMIC += "\
	linaro-toolchain:${LAYERDIR}/dynamic-layers/linaro-toolchain/*/*/*.bb \
	linaro-toolchain:${LAYERDIR}/dynamic-layers/linaro-toolchain/*/*/*.bbappend \
	\
	meta-arago-extras:${LAYERDIR}/dynamic-layers/meta-arago-extras/*/*/*.bb \
	meta-arago-extras:${LAYERDIR}/dynamic-layers/meta-arago-extras/*/*/*.bbappend \
	\
	meta-ti:${LAYERDIR}/dynamic-layers/meta-ti/*/*/*.bb \
	meta-ti:${LAYERDIR}/dynamic-layers/meta-ti/*/*/*.bbappend \
"

# Set a variable to get the top of the metadata location
TANO_OPENWRT_BASE = '${@os.path.normpath("${LAYERDIR}/")}'
